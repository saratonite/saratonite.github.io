define(["backbone","Modernizr","models/contact_model","views/contact_view","views/home_view","views/notfound_view","clickify"],function(b,c,d,e,f,g){return b.Router.extend({routes:{"":"index",contact:"contact","contact/edit":"editContact",services:"servicesRoute","*action":"notFound"},initialize:function(){this.contact=new d;this.contact.urlRoot="http://saratonite.aws.af.cm/server/api/contacts/";this.homeview=new f},index:function(){$("#main").html(this.homeview.render().el);$(document).clickify()},
contact:function(){this.contactview=new e({model:this.contact});$("#main").html(this.contactview.render().el);$(document).clickify()},editContact:function(){$(document).clickify();this.contact.set("sended",!1);b.history.navigate("contact",{trigger:!0})},notFound:function(){var a=new g;$("#main").html(a.render().el);$(document).clickify()},start:function(){c.history?b.history.start({pushState:!0}):b.history.start()},markNav:function(a){$("#master-nav").find("li").removeClass("active").end().find("a[href^='/"+
a+"']").parent().addClass("active")},prettyUrl:function(){$("a").click(function(a){a.preventDefault();b.history.navigate(a.target.pathname,{trigger:!0})})}})});
