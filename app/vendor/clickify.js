(function(c){var d=document.location.protocol+"//"+(document.location.hostname||document.location.host)+(document.location.port?":"+document.location.port:"")+"/",f=function(a,e){var b=a;b.indexOf(":")!==-1&&(b=b.replace(/.*:\/\/[^\/]+/,""));b.indexOf(e)||(b=b.substr(e.length));return b.replace(/^[#\/]/,"")};c.expr[":"].internal=function(a){a=c(a).attr("href")||"";return a.substring(0,d.length)===d||a.indexOf(":")===-1};c.fn.clickify=function(a){a=c.extend({root:"/"},a);a=this.find("a:internal:not(.no-click)");
a.click(function(a){var b=c(this).attr("href");if(a.which==2||a.metaKey)return!0;Backbone.history.navigate(f(b),{trigger:!0});a.preventDefault();return!1});a.addClass("no-click");return this}})(jQuery);
